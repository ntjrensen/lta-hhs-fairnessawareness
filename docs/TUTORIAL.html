<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>tutorial</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="TUTORIAL_files/libs/clipboard/clipboard.min.js"></script>
<script src="TUTORIAL_files/libs/quarto-html/quarto.js"></script>
<script src="TUTORIAL_files/libs/quarto-html/popper.min.js"></script>
<script src="TUTORIAL_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="TUTORIAL_files/libs/quarto-html/anchor.min.js"></script>
<link href="TUTORIAL_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="TUTORIAL_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="TUTORIAL_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="TUTORIAL_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="TUTORIAL_files/libs/bootstrap/bootstrap-973236bd072d72a04ee9cd82dcc9cb29.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="no-fairness-without-awareness-tutorial" class="level1">
<h1>No Fairness Without Awareness: Tutorial</h1>
<p>Theo Bakker, The Hague University of Applied Sciences 2025-02-15</p>
<p><a name="top" href=""></a></p>
<p>This tutorial explains how to create a <strong>fairness analysis of the progression of students in educational institutions in The Netherlands</strong> using the CEDA Fairness Awareness template.</p>
<section id="table-of-contents" class="level2">
<h2 class="anchored" data-anchor-id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#why-we-study-fairness-awareness-and-equity">Why we study fairness, awareness, and equity</a></li>
<li><a href="#structure-of-files-and-folders">Structure of files and folders</a></li>
<li><a href="#using-this-template">Using this template</a></li>
<li><a href="#construction-of-individual-files">Construction of individual files</a>
<ul>
<li><a href="#index">1. Index</a></li>
<li><a href="#_setupr">2. _Setup.R</a></li>
<li><a href="#quarto-yaml">3. Quarto YAML</a></li>
</ul></li>
<li><a href="#structure-of-the-reports">Structure of the reports</a></li>
<li><a href="#customizing-the-template">Customizing the template</a>
<ul>
<li><a href="#adjust-design-house-style-educational-institution-data">Adjust design, house style, educational institution data</a></li>
<li><a href="#texts">Texts</a></li>
</ul></li>
<li><a href="#rendering-your-institutions-reports">Rendering your institution‚Äôs reports</a>
<ul>
<li><a href="#rendering-all-pages-of-a-report-using-the-terminal">Rendering all pages</a></li>
<li><a href="#rendering-individual-pages-of-a-report-using-the-terminal">Rendering individual pages</a><br>
</li>
</ul></li>
<li><a href="#known-issues">Known issues</a></li>
<li><a href="#wishes">Wishes</a></li>
</ul>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">üéí Introduction</h2>
<p>In this tutorial you will learn the following:</p>
<ul>
<li>How the concepts of Fairness, Awareness, and Equity are connected.</li>
<li>How we structured two possible fairness reports.</li>
<li>How the project files and folders are structured.</li>
<li>How to use the template.</li>
<li>How to construct individual files.</li>
<li>How to customize the template for your own educational institution.</li>
<li>What the known issues and wishes are, and how to contact us if you have any quesionts or suggestions.</li>
</ul>
</section>
<section id="why-we-study-fairness-awareness-and-equity" class="level2">
<h2 class="anchored" data-anchor-id="why-we-study-fairness-awareness-and-equity">üí° Why we study fairness, awareness, and equity</h2>
<p>The Fairness Awareness Template is based on the concepts of Fairness, Awareness, and Equity. These concepts are essential for the development of a fair educational system. If we don‚Äôt study the fairness of our institutions, we can‚Äôt be aware of the consequences of our actions in policy, education or student counseling. If we are not aware of the consequences of our actions, we can‚Äôt transform unfair educational systems.</p>
<p>We use machine learning (ML) models to understand if there is bias in the progression of students in educational institutions. The fairness of an ML model can be assessed by examining the quality of its predictions for different groups of students expressed in fairness metrics. If the differences in predictions are disproportionally large, this is a sign of bias within the data, unfairness for some groups of students, and inequity [ref].</p>
<p>To learn more about the concepts of Fairness, Awareness, and Equity, read the inaugural speech <a href="https://zenodo.org/records/14204674">No Fairness without Awareness</a> by Theo Bakker [ref]. The advanced report explains these concepts as well.</p>
</section>
<section id="structure-of-the-fairness-reports" class="level2">
<h2 class="anchored" data-anchor-id="structure-of-the-fairness-reports">üìö Structure of the fairness reports</h2>
<p>Fairness analyses consist of three main components: 1) one or more prediction models, 2) an analysis of factors, and 3) a fairness analysis.</p>
<p>Within the template, we offer two versions:</p>
<ul>
<li>The <strong>basic version</strong> ‚Äì for policymakers ‚Äì contains the conclusions, the fairness analysis and the analysis of factors.</li>
<li>The <strong>advanced version</strong> ‚Äì for data scientists ‚Äì contains an additional section on the underlying prediction models, explains the underlying concepts, and shows all relevant R code.</li>
</ul>
<p>We reversed the order in which we present the pages within the reports, as we start with a summary of the conclusions and end with the predictions. This way, the reader can immediately see the results of the analysis, as we found out in testing different reports with teachers and policymakers in daily practice.</p>
<ul>
<li><strong>Introduction</strong> (chapter 1)
<ul>
<li>The introduction to the report, the study programme and the research question.</li>
</ul></li>
<li><strong>Equity</strong> (chapter 2)
<ul>
<li>The fairness analysis of the progression of students in the study programme.</li>
</ul></li>
<li><strong>Factors</strong> (chapter 3)
<ul>
<li>The analysis of factors that influence the progression of students in the study programme.</li>
</ul></li>
<li><strong>Models</strong> (chapter 4) - <em>only in the advanced version</em>
<ul>
<li>The development of prediction models for the students‚Äô progression in the study programme.</li>
<li>The forecasting model is built with the <a href="https://www.tidymodels.org/">tidymodels</a> package from the tidyverse. A package that is in full development with an active developer group. If you are not familiar yet with tidy modelling, first follow the <a href="https://www.tidymodels.org/start/">tutorials</a> or read the online book <a href="https://www.tmwr.org/">Tidy Modeling with R</a> .</li>
<li>We create two models (<em>penalized linear regression</em> and <em>random forest</em>), which require comparatively little computing power and whose variables and their contributions to the model are known (a <em>whitebox</em> model).</li>
<li>The operation of the models is explained ‚Äì in advanced mode ‚Äì in the text. Thus, each report can be read independently.</li>
<li>The best model is selected automatically. Based on that model, we will assess the fairness of a study programme.</li>
</ul></li>
</ul>
<p>The reports conclude with two additional pages:</p>
<ul>
<li><strong>References</strong>
<ul>
<li>The references used in the report.</li>
</ul></li>
<li><strong>Appendix A: packages</strong>
<ul>
<li>A list of packages used in the report.</li>
</ul></li>
</ul>
<p>You can <strong>preview</strong> the two versions of the report from the <code>_examples</code> folder.</p>
</section>
<section id="structure-of-files-and-folders" class="level2">
<h2 class="anchored" data-anchor-id="structure-of-files-and-folders">üìÇ Structure of files and folders</h2>
<p>The template is composed of the following <strong>files</strong> (alphabetically):</p>
<ul>
<li>The index of the report: <code>index.qmd</code> (henceforth called Index)</li>
<li><code>_quarto.yml</code> with the general settings</li>
<li><code>_quarto-advanced.yml</code> with settings for the advanced report</li>
<li><code>_quarto-basic.yml</code> with settings for the basic report</li>
<li><code>_Setup.R</code> with general settings for R</li>
<li><code>ch1-introduction.qmd</code> with the introduction (chapter 1)</li>
<li><code>ch2-equity.qmd</code> with the fairness analysis (chapter 2)</li>
<li><code>ch3-factors.qmd</code> with the analysis of factors (chapter 3)</li>
<li><code>ch4-models.qmd</code> with the construction of the prediction models (chapter 4)</li>
<li><code>ch5-references.qmd</code> with the references (chapter 5)</li>
<li><code>render-multiple.R</code> with a script to create multiple reports</li>
<li><code>render-single.R</code> with a script to create one report</li>
<li><code>renv.lock</code> with the versions of the packages</li>
<li><code>x-a-appendix-abbreviations.qmd</code> with an explanation of the abbreviation used in the reports (appendix A)</li>
<li><code>x-b-appendix-packages.qmd</code> with the packages used in the reports (appendix B)</li>
</ul>
<p>It also contains the following <strong>folders</strong> (alphabetically):</p>
<ul>
<li><code>_advanced</code> and <code>_basic</code> with the reports created during automatic rendering in two variants</li>
<li><code>_examples</code> with two examples of an <code>_advanced</code> and <code>_basic</code> report for your reference</li>
<li><code>_extensions</code> with Quarto extensions for pandoc</li>
<li><code>_freeze</code> with elements that are unchanged and reused while rendering</li>
<li><code>_output</code> with reports by faculty and study programmes</li>
<li><code>bibliograhy</code> with references</li>
<li><code>brand</code> with the corporate identity files (logos, colors, fonts, layout in scss, colors)</li>
<li><code>docs</code> for the documentation files (README, TUTORIAL, LICENSE, and NEWS)</li>
<li><code>R/data</code> with general data sets</li>
<li><code>R/functions</code> with .R files for different types of functions</li>
<li><code>R/images</code> with images from the reports</li>
<li><code>R/qmd</code> with .qmd files that are embedded (text snippets)</li>
<li><code>R/scripts</code> with .R files to be embedded (TODO: EXPLANATION)</li>
<li><code>R/vars</code> with the data dictonary of the variables</li>
<li><code>renv</code> for the packages from the R environment</li>
</ul>
<p><strong>Git ignore</strong></p>
<ul>
<li>The <code>.gitignore</code> file is set up so that folders containing less relevant output are not included in the repo (e.g., <code>_log</code>, <code>_test</code> and <code>_graveyard</code>).</li>
</ul>
</section>
<section id="using-this-template" class="level2">
<h2 class="anchored" data-anchor-id="using-this-template">üöÄ Using this template</h2>
<p>If you have not yet installed the necessary software, do so now:</p>
<ul>
<li>Open <code>_Setup.R</code> and run it once by clicking on ‚ÄòSource‚Äô.</li>
<li>You will now be instructed which libraries you need to install if you have not done so yet.</li>
<li>After the installation, start a new session by restarting R and continue.</li>
</ul>
</section>
<section id="construction-of-individual-files" class="level2">
<h2 class="anchored" data-anchor-id="construction-of-individual-files">üî® Construction of individual files</h2>
<p>Before you render your first customized report, familiarize yourself with the construction of the individual files in the template:</p>
<section id="index" class="level3">
<h3 class="anchored" data-anchor-id="index">1. Index</h3>
<p>The index.qmd file must exist if you are using a book template in Quarto, as this template does; index.qmd of this project consists of the following components:</p>
<ul>
<li>The <strong>YAML header</strong> with:
<ul>
<li><code>subtitle</code>: the subtitle. You set part of this further in the yml file through the <code>params</code>. By using <code>params</code> the subtitle is automatically adjusted when you render the file.</li>
<li><code>params</code> with options for the study programme and report:
<ul>
<li><code>version</code>: the version of the report</li>
<li><code>success</code>: the type of success for which we make a fairness analysis (e.g.&nbsp;Retention after 1 year, Retention after 2 years, etc.)</li>
<li><code>model</code>: the name of the model. The model name can have the same name as the success parameter.</li>
<li><code>use_synthetic_data</code>: whether to use synthetic data (false or true).</li>
<li><code>recreateplots</code>: whether you want to recreate the plots (false or true)</li>
<li><code>faculty</code>: the faculty for which the report is created</li>
<li><code>course name</code>: the full name of the study programme</li>
<li><code>study programme</code>: the code of the study programme</li>
<li><code>trainingform</code>: the type of education in full (full-time, part-time, dual)</li>
<li><code>training form_abbreviation</code>: the type of education abbreviated (VT, DT, DU)</li>
<li><code>entry selection</code>: whether the study programme has entry selection (false or true). Based on this, variable <code>Rank</code> is enclosed or not.</li>
</ul></li>
<li><code>includes</code> with options to show or hide parts of pages
<ul>
<li><code>introduction</code>: show or hide the introduction</li>
<li><code>data</code>: ?? [TODO: decide if this is still needed]</li>
<li><code>model_lr</code>: build the linear regression model or not</li>
<li><code>model_rf</code>: build the random forest model or not</li>
<li><code>model_svm</code>: build the support vector machine model or not</li>
<li><code>final_fit</code>: show or hide the final fit</li>
<li><code>conclusions</code>: show or hide the conclusions</li>
<li><code>contact</code>: show or hide the contact data</li>
<li><code>justification</code>: show or hide justification</li>
<li><code>copyright</code>: show or hide copyright information</li>
</ul></li>
<li>Because <code>_quarto.yml</code> is always output, there is no need to include more in the index
<ul>
<li>Among other things, <code>_quarto.yml</code> automatically determines the files‚Äô date and the HTML page‚Äôs settings.</li>
</ul></li>
</ul></li>
<li>The <strong>setup</strong> with the packages and options via <code>_Setup.R</code>: see explanation below.</li>
<li>The <strong>training information</strong> via <code>R/qmd/header-studyprogram.qmd</code></li>
<li>The <strong>summary of the probability equality analysis</strong> via <code>R/qmd/equity-conclusions.qmd</code></li>
<li>The <strong>contact</strong> information via <code>R/qmd/footer-contact.qmd</code> - this page can be shown or hidden</li>
<li>The <strong>copyright</strong> information via <code>R/qmd/footer-copyright.qmd</code> - this page can be shown or hidden</li>
</ul>
</section>
<section id="setup.r" class="level3">
<h3 class="anchored" data-anchor-id="setup.r">2. _Setup.R</h3>
<ul>
<li><strong>Do not modify _Setup.R</strong>.</li>
<li>Because the <code>setup</code> chunk from the <code>index.qmd</code> does not read well in embedded .qmd files, it has been replaced by a <code>_Setup.R</code> file embedded in each page.</li>
<li>This file is executed only once per session; if there is a new version while working on your project, restart your R environment for a new session or adjust the <code>bReset_Setup</code> variable at the top of the page from <code>bReset_Setup &lt;- F</code> once to <code>T</code>.</li>
<li>In <code>_Setup.R</code>, you will find:
<ul>
<li>A check on the environment: development or production</li>
<li>Settings for packages and functions:
<ul>
<li>libraries + preferences for specific functions in case of conflicts</li>
<li>the loading of brand settings</li>
<li>loading of fonts</li>
<li>loading of additional functions</li>
<li>loading of colors</li>
<li>defining the theme for images</li>
<li>a preference for the tidymodels settings</li>
<li>general options for rendering knitr</li>
</ul></li>
<li>Configuration for:
<ul>
<li>file paths</li>
<li>debug options</li>
<li>gt-summary settings</li>
<li>training information</li>
<li>loading the data</li>
<li>plot settings</li>
</ul></li>
<li>Content settings:
<ul>
<li>the long name of the study programme or faculty</li>
<li>the variables and their levels</li>
<li>the sensitive variables (on which fairness is examined)</li>
<li>the output paths for the data and the models</li>
<li>the settings for the models</li>
<li>the data for training, last fits and results.</li>
</ul></li>
</ul></li>
<li>See the inline documentation for further explanation.</li>
</ul>
</section>
<section id="setup_config.r" class="level3">
<h3 class="anchored" data-anchor-id="setup_config.r">3. _Setup_config.R</h3>
<p>This file determines part of the configuration of the template.</p>
<ul>
<li>default parameters for the reports if $params does not exist (see below)</li>
<li>research settings that are used to build paths and captions</li>
<li>the location of the data</li>
</ul>
</section>
<section id="quarto-yaml" class="level3">
<h3 class="anchored" data-anchor-id="quarto-yaml">3. Quarto YAML</h3>
<p>As mentioned, the template works with <code>basic</code> and <code>advanced</code> profiles. The basic profile contains the conclusions, fairness analysis and factors analysis. The advanced analysis also contains a section on the underlying prediction models, explains the underlying concepts, and shows all relevant R code. Three files accomplish this: <code>_quarto-basic.yml</code>, <code>_quarto-basic.yml</code> and <code>_quarto-advanced.yml</code>. The _quarto.yml file contains both reports‚Äô general settings; the other files contain the specific settings for the basic and advanced reports.</p>
<p>The <strong>quarto.yml</strong> file has the following options:</p>
<ul>
<li>The project settings (book) and associated details: author, date (based on the latest modification date), navigation</li>
<li>The two profiles basic and advanced. If no profile is specified, the first profile prevails.</li>
<li>The branding settings: the location of the house-style files</li>
<li>The editor settings: work with the source code</li>
<li>The execution settings: do not save markdown files and hide console output</li>
<li>The citation settings: the location of the bibliography and the Citation Style Language (APA)</li>
<li>The language settings: the language of the report</li>
<li>The lightbox settings: enlarges images when you click on them</li>
<li>The HTML settings: numbering, scrolling, the engine for mathematical texts, the font size (110%), the possibility for comments (via hypothesis), the theme, the output settings, the table of contents and links under ‚ÄòMore information‚Äô.</li>
<li>Other settings: configuration</li>
</ul>
<p>The <strong>quarto-basic.yml</strong> file has the following options:</p>
<ul>
<li>The project name and output directory.</li>
<li>The specific theme settings: the basic scss file.</li>
<li>The specific execution settings: save files that have not changed (freeze); this setting ensures that when rendering, a _freeze folder is created with elements that do not change and are reused in this template. If your web pages still don‚Äôt change after modifications, manually delete the _freeze folder and re-render the template.</li>
<li>The book settings: the title, chapter order and appendices. NB. This template hides Chapter 4: The development of prediction models.</li>
</ul>
<p>The <strong>quarto-advanced.yml</strong> file has the following options:</p>
<ul>
<li>The project name and output directory.</li>
<li>The specific theme settings: settings for showing R code and the advanced scss file.</li>
<li>The specific execution settings: show the outcomes of the R-chunks (echo: true). This template does not use the freeze option to avoid reusing too much material.</li>
<li>The book settings: the title, the order of the chapters and appendices. This template shows Chapter 4: the development of prediction models.</li>
</ul>
<p>If you want to learn more about using Quarto profiles, visit the <a href="https://quarto.org/docs/projects/profiles.html">Quarto documentation</a>.</p>
</section>
</section>
<section id="customizing-the-template" class="level2">
<h2 class="anchored" data-anchor-id="customizing-the-template">‚úÇÔ∏è Customizing the template</h2>
<p>The template is initially set up for The Hague University of Applied Sciences (THUAS), but you can adjust the template to your own institution.</p>
<section id="adjust-design-house-style-educational-institution-data" class="level3">
<h3 class="anchored" data-anchor-id="adjust-design-house-style-educational-institution-data">Adjust design, house style, educational institution data</h3>
<p>The design, house style and name of the educational institution in this template are based on THUAS. You can adjust this to your insights. Since Quarto 1.6, a _brand.yml file has been available for this purpose. However, the possibilities of working with brands are still limited. To use the variables from _brand.yml also in R, the file is also read into _Setup.R.</p>
<ul>
<li>The colors, fonts and logos are defined in <code>brand/_brand.yml</code> and <code>brand/scss/default.scss</code>:
<ul>
<li>In <code>_brand.yml</code> at <code>meta</code>, adjust the short and long name of the educational institution and the link to the website.</li>
<li>In <code>_brand.yml</code> at <code>color</code>, adjust the colors: institution-color-one, institution-color-two and institution-color-three.</li>
<li>In <code>_brand.yml</code> at <code>fonts</code>, adjust the fonts, if necessary. If necessary, also add the fonts in _Setup.R (1.6). The new fonts are automatically installed the first time the template renders with them; this is repeated for every single page.</li>
<li>In <code>scss/default.scss</code>, modify the $logo path. Add the logo file in the brand/logos folder, since the _brand.yml file can‚Äôt include the path to the logo.</li>
<li>In <code>brand/colors/colors.R</code> adjust colors used in images if necessary.</li>
</ul></li>
</ul>
</section>
<section id="texts" class="level3">
<h3 class="anchored" data-anchor-id="texts">Texts</h3>
<p>Texts about the author, educational institution or researchers are situated in several additional locations.</p>
<ul>
<li>In <code>_quarto.yml</code>, adjust the name of the author of the report: <code>book:author</code>.</li>
<li>In <code>_quarto.yml</code>, adjust the name of the educational institution: <code>brand:meta:name</code>.</li>
<li>In <code>_Setup_config.R</code>: modify the metadata to determine the source and analysis for each image in the caption (footer of the image):
<ul>
<li><code>lResearch_settings[[‚ÄúsInstitution‚Äù]]</code></li>
<li><code>lResearch_settings[[‚ÄúsSource‚Äù]]</code>: who provided the dataset you are using</li>
<li><code>lResearch_settings[[‚ÄúsAnalysis‚Äù]]</code>: who performed the analysis</li>
</ul></li>
</ul>
</section>
</section>
<section id="rendering-your-institutions-reports" class="level2">
<h2 class="anchored" data-anchor-id="rendering-your-institutions-reports">üìùÔ∏è Rendering your institution‚Äôs reports</h2>
<p>Since the template has several dependencies, you will have to render the pages using the terminal.</p>
<section id="rendering-all-pages-of-a-report-using-the-terminal" class="level3">
<h3 class="anchored" data-anchor-id="rendering-all-pages-of-a-report-using-the-terminal">Rendering all pages of a report using the terminal</h3>
<p>To render a template, follow these steps:</p>
<ol type="1">
<li>Open a terminal in RStudio (second tab at the bottom of your screen).</li>
<li>Run the following command for the <em>basic</em> report:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>quarto render <span class="sc">--</span>profile basic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="3" type="1">
<li>Run the following command for the <em>advanced</em> report:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>quarto render <span class="sc">--</span>profile advanced</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="rendering-individual-pages-of-a-report-using-the-terminal" class="level3">
<h3 class="anchored" data-anchor-id="rendering-individual-pages-of-a-report-using-the-terminal">Rendering individual pages of a report using the terminal</h3>
<p>To run an individual file (for example ch2-equity.qmd), follow these steps:</p>
<ol type="1">
<li>Open a terminal in RStudio (second tab at the bottom of your screen).</li>
<li>Run the following command for the <em>basic</em> report:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>quarto render ch2<span class="sc">-</span>equity.qmd <span class="sc">--</span>profile basic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="3" type="1">
<li>Run the following command for the <em>advanced</em> report:</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>quarto render ch2<span class="sc">-</span>equity.qmd <span class="sc">--</span>profile advanced</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="known-issues" class="level2">
<h2 class="anchored" data-anchor-id="known-issues">üìå Known issues</h2>
<ul>
<li>None</li>
</ul>
</section>
<section id="wishes" class="level2">
<h2 class="anchored" data-anchor-id="wishes">üìé Wishes</h2>
<ul>
<li>Be able to include logo in _brand.yml for subsequent use in basic.scss.</li>
</ul>
</section>
<section id="contact" class="level2">
<h2 class="anchored" data-anchor-id="contact">üì´ Contact</h2>
<p>If you have any questions or suggestions, please get in touch with the author of this template: <a href="mailto:t.c.bakker@hhs.nl">Theo Bakker</a></p>
<p><a href="#top">Back to top</a></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>